å‚è€ƒï¼š[æ­£åˆ™è¡¨è¾¾å¼å‰ç«¯ä½¿ç”¨æ‰‹å†Œ: http://louiszhai.github.io/2016/06/13/regexp/](http://louiszhai.github.io/2016/06/13/regexp/)
##æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ 
- `\` åšä¸ºè½¬æ„ï¼Œå³é€šå¸¸åœ¨"`\`"åé¢çš„å­—ç¬¦ä¸æŒ‰åŸæ¥æ„ä¹‰è§£é‡Šï¼Œå¦‚`/b/`åŒ¹é…å­—ç¬¦"b"ï¼Œå½“bå‰é¢åŠ äº†åæ–œæ†å`/\b/`ï¼Œè½¬æ„ä¸ºåŒ¹é…ä¸€ä¸ªå•è¯çš„è¾¹ç•Œã€‚

	å¯¹æ­£åˆ™è¡¨è¾¾å¼åŠŸèƒ½å­—ç¬¦çš„è¿˜åŸï¼Œå¦‚"`*`"åŒ¹é…å®ƒå‰é¢å…ƒå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡ï¼Œ`/a*/`å°†åŒ¹é…a,aa,aaaï¼ŒåŠ äº†"\"åï¼Œ`/a\*/`å°†åªåŒ¹é…"a*"ã€‚
- `^` åŒ¹é…ä¸€ä¸ªè¾“å…¥æˆ–ä¸€è¡Œçš„å¼€å¤´ï¼Œ/^a/åŒ¹é…"an A"ï¼Œè€Œä¸åŒ¹é…"An a"
- `$` åŒ¹é…ä¸€ä¸ªè¾“å…¥æˆ–ä¸€è¡Œçš„ç»“å°¾ï¼Œ/a$/åŒ¹é…"An a"ï¼Œè€Œä¸åŒ¹é…"an A"
- `*` åŒ¹é…å‰é¢å…ƒå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡ï¼Œ/ba*/å°†åŒ¹é…b,ba,baa,baaa
- `+` åŒ¹é…å‰é¢å…ƒå­—ç¬¦1æ¬¡æˆ–å¤šæ¬¡ï¼Œ/ba+/å°†åŒ¹é…ba,baa,baaa
- `?` åŒ¹é…å‰é¢å…ƒå­—ç¬¦0æ¬¡æˆ–1æ¬¡ï¼Œ/ba?/å°†åŒ¹é…b,ba
- `(x)` åŒ¹é…xï¼Œ**ä¿å­˜xåœ¨åä¸º$1...$9çš„å˜é‡ä¸­**
- `x|y` åŒ¹é…xæˆ–y
- `{n}` ç²¾ç¡®åŒ¹é…**næ¬¡**
- `{n,}` åŒ¹é…**næ¬¡ä»¥ä¸Š**
- `{n,m}` åŒ¹é…**n-mæ¬¡**
- `[xyz]` å­—ç¬¦é›†(character set)ï¼ŒåŒ¹é…è¿™ä¸ª**é›†åˆä¸­çš„ä»»ä¸€ä¸€ä¸ªå­—ç¬¦**(æˆ–å…ƒå­—ç¬¦)
- `[^xyz]` **ä¸åŒ¹é…**è¿™ä¸ªé›†åˆä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦
- `\d` åŒ¹é…ä¸€ä¸ªå­—æ•°å­—ç¬¦ï¼Œ/\d/ = /[0-9]/
- `\D` åŒ¹é…ä¸€ä¸ªéå­—æ•°å­—ç¬¦ï¼Œ/\D/ = /[^0-9]/
- `\w` åŒ¹é…ä¸€ä¸ªå¯ä»¥ç»„æˆå•è¯çš„å­—ç¬¦(alphanumericï¼Œè¿™æ˜¯æˆ‘çš„æ„è¯‘ï¼Œå«æ•°å­—)ï¼ŒåŒ…æ‹¬ä¸‹åˆ’çº¿ï¼Œå¦‚[\w]åŒ¹é…"$5.98"ä¸­çš„5ï¼Œç­‰äº[a-zA-Z0-9]
- `\W` åŒ¹é…ä¸€ä¸ªä¸å¯ä»¥ç»„æˆå•è¯çš„å­—ç¬¦ï¼Œå¦‚[\W]åŒ¹é…"$5.98"ä¸­çš„$ï¼Œç­‰äº[^a-zA-Z0-9]ã€‚
- `\s` åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬\n,\r,\f,\t,\vç­‰
- `\S` åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦ï¼Œç­‰äº/[^\n\f\r\t\v]/
- `[\b]` åŒ¹é…ä¸€ä¸ªé€€æ ¼ç¬¦
- `\b` åŒ¹é…ä¸€ä¸ªå•è¯çš„è¾¹ç•Œ
- `\B` åŒ¹é…ä¸€ä¸ªå•è¯çš„éè¾¹ç•Œ
- `\cX` è¿™å„¿ï¼ŒXæ˜¯ä¸€ä¸ªæ§åˆ¶ç¬¦ï¼Œ/\cM/åŒ¹é…Ctrl-M
- `\n` åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦
- `\r` åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦
- `\t` åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦
- `\v` åŒ¹é…ä¸€ä¸ªé‡ç›´åˆ¶è¡¨ç¬¦

##å¸¸ç”¨æ­£åˆ™åŒ¹é…
- ä¸­æ–‡å­—ç¬¦ï¼š^[\u4e00-\u9fa5]+$
- ç”µè¯å·ç ï¼š^1(3[0-9]|4[57]|5[0-35-9]|8[0-9]|7[0-36-8])\\d{8}$
- 0åˆ°100ï¼š^(\\d|[1-9]\\d|100)$"
- ä¸‰ä½æ•°ï¼š^(\\d|[1-9]\\d\\d{0,1})$
- æ±‰å­—: ^[\u4e00-\u9fa5]{0,}$
- Email: ^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
- URL: ^https?://([\w-]+.)+[\w-]+(/[\w-./?%&=]*)?$
- æ‰‹æœºå·ç : ^1\d{10}$
- èº«ä»½è¯å·: ^(\d{15}|\d{17}(\d|X))$
- ä¸­å›½é‚®æ”¿ç¼–ç : [1-9]\d{5}(?!\d) (é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—)

##æ­£åˆ™æµ‹è¯•å‡½æ•°
###æ­£åˆ™testå‡½æ•°
	/**
	* @param regExpStr æ­£åˆ™å­—ç¬¦ä¸²
	* @param value éœ€è¦éªŒè¯çš„å€¼
	* @returns {boolean} éªŒè¯é€šè¿‡true, å¤±è´¥false
	*/
	function regExpFun(regExpStr,value) {
	   var regExp = new RegExp(regExpStr);
	   return regExp.test(value);
	}
	
###ç”µè¯å·ç ä¸­é—´4ä½å˜æˆ*
çŸ¥è¯†ç‚¹ï¼šæ•è·ç»„

	function encryptionPhone(phone) {
	    //æ ¡éªŒ: æ˜¯å¦ä¸ºç©º
	    if (typeof phone === 'undefined' || phone.trim() === "") {
	        console.log("ç”µè¯å·ç ä¸èƒ½ä¸ºç©º");
	        return;
	    }
	    //æ ¡éªŒ: æ˜¯å¦æ˜¯11ä½çš„ç”µè¯å·ç 
	    var phoneRex = new RegExp("^1\\d{10}$");
	    //æˆ– var phoneRex = /^1\d{10}$/;
	    if (!phoneRex.test(phone)) {
	        console.log(phone + " ä¸æ˜¯æ‰‹æœºå·ç æ ¼å¼");
	        return;
	    }
	    //ä¸­é—´4ä½å˜æˆ* å³4-7ä½
	    var encryPhoneRex=new RegExp("^(1\\d{2})(\\d{4})(\\d{4})$");
	    //æˆ– var encryPhoneRex = /^(1\d{2})(\d{4})(\d{4})$/;
	    var encryPhone = phone.replace(encryPhoneRex, '$1****$3');
	    console.log(phone + " ä¸­é—´4ä½å˜æˆ*ä¸º " + encryPhone);
	    return encryPhone;
	}
	encryptionPhone("15911180906");
	
##æ­£åˆ™è¡¨è¾¾å¼å‰ç«¯ä½¿ç”¨æ‰‹å†Œ 
###æ­£åˆ™è¡¨è¾¾å¼çš„å®šä¹‰
æ­£åˆ™è¡¨è¾¾å¼ä¸¥æ ¼åŒºåˆ†å¤§å°å†™
####1ã€å…ƒå­—ç¬¦
![](../images/æ­£åˆ™_å…ƒå­—ç¬¦.png)

####2ã€åä¹‰å…ƒå­—ç¬¦
![](../images/æ­£åˆ™_åå…ƒå­—ç¬¦.png)

####3ã€é‡å¤é™å®šç¬¦
é™å®šç¬¦å…±æœ‰6ä¸ª, å‡è®¾é‡å¤æ¬¡æ•°ä¸ºxæ¬¡, é‚£ä¹ˆå°†æœ‰å¦‚ä¸‹è§„åˆ™:
![](../images/æ­£åˆ™_é‡å¤é™å®šç¬¦.png)

####4ã€å­—ç¬¦ç»„
`[â€¦]` åŒ¹é…ä¸­æ‹¬å·å†…å­—ç¬¦ä¹‹ä¸€. å¦‚: [xyz] åŒ¹é…å­—ç¬¦ x, y æˆ– z. å¦‚æœä¸­æ‹¬å·ä¸­åŒ…å«å…ƒå­—ç¬¦, åˆ™å…ƒå­—ç¬¦é™çº§ä¸ºæ™®é€šå­—ç¬¦, ä¸å†å…·æœ‰å…ƒå­—ç¬¦çš„åŠŸèƒ½, å¦‚ [+.?] åŒ¹é… åŠ å·, ç‚¹å·æˆ–é—®å·.

####5ã€æ’é™¤æ€§å­—ç¬¦ç»„
`[^â€¦]` åŒ¹é…ä»»ä½•æœªåˆ—å‡ºçš„å­—ç¬¦,. å¦‚: [^x] åŒ¹é…é™¤xä»¥å¤–çš„ä»»æ„å­—ç¬¦.

####6ã€å¤šé€‰ç»“æ„
`|` å°±æ˜¯æˆ–çš„æ„æ€, è¡¨ç¤ºä¸¤è€…ä¸­çš„ä¸€ä¸ª. å¦‚: a|b åŒ¹é…aæˆ–è€…bå­—ç¬¦.

####7ã€æ‹¬å·
`æ‹¬å·` å¸¸ç”¨æ¥ç•Œå®šé‡å¤é™å®šç¬¦çš„èŒƒå›´, ä»¥åŠå°†å­—ç¬¦åˆ†ç»„. å¦‚: (ab)+ å¯ä»¥åŒ¹é…abab..ç­‰, å…¶ä¸­ ab ä¾¿æ˜¯ä¸€ä¸ªåˆ†ç»„.

####8ã€è½¬ä¹‰å­—ç¬¦
`\` å³è½¬ä¹‰å­—ç¬¦, é€šå¸¸** \ * + ? | { [ ( ) ] }^ $ . # å’Œ ç©ºç™½ **è¿™äº›å­—ç¬¦éƒ½éœ€è¦è½¬ä¹‰.

####9ã€æ“ä½œç¬¦çš„è¿ç®—ä¼˜å…ˆçº§
1. \ è½¬ä¹‰ç¬¦
- (), (?:), (?=), [] åœ†æ‹¬å·æˆ–æ–¹æ‹¬å·
- *, +, ?, {n}, {n,}, {n,m} é™å®šç¬¦
- ^, $ ä½ç½®
- | â€œæˆ–â€ æ“ä½œ

####10ã€ä¿®é¥°ç¬¦
javaScriptä¸­æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤æœ‰å¦‚ä¸‹äº”ç§ä¿®é¥°ç¬¦:
- g (å…¨æ–‡æŸ¥æ‰¾)
- i (å¿½ç•¥å¤§å°å†™æŸ¥æ‰¾)
- m (å¤šè¡ŒæŸ¥æ‰¾)
- y (ES6æ–°å¢çš„ç²˜è¿ä¿®é¥°ç¬¦)
- u (ES6æ–°å¢)

###æ­£åˆ™è¡¨è¾¾å¼åˆé˜¶æŠ€èƒ½
####è´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼
é»˜è®¤æƒ…å†µä¸‹, æ‰€æœ‰çš„`é™å®šè¯`éƒ½æ˜¯`è´ªå©ªæ¨¡å¼`, è¡¨ç¤º`å°½å¯èƒ½å¤šçš„å»æ•è·å­—ç¬¦`;    
è€Œåœ¨**é™å®šè¯åå¢åŠ ?**, åˆ™æ˜¯`éè´ªå©ªæ¨¡å¼`, è¡¨ç¤º`å°½å¯èƒ½å°‘çš„å»æ•è·å­—ç¬¦`.    
å¦‚ä¸‹:

	var str = "aaab",
	    reg1 = /a+/, //è´ªå©ªæ¨¡å¼
	    reg2 = /a+?/;//éè´ªå©ªæ¨¡å¼
	console.log(str.match(reg1)); //["aaa"], ç”±äºæ˜¯è´ªå©ªæ¨¡å¼, æ•è·äº†æ‰€æœ‰çš„a
	console.log(str.match(reg2)); //["a"], ç”±äºæ˜¯éè´ªå©ªæ¨¡å¼, åªæ•è·åˆ°ç¬¬ä¸€ä¸ªa
	
éè´ªå©ªæ¨¡å¼: ä½¿ç”¨â€`*?`â€, æˆ– â€œ`+?`â€ è¿™ç§å½¢å¼, è¿˜æœ‰ä¸€ç§æ˜¯ â€œ`{n,m}`?â€.

éœ€è¦æ³¨æ„çš„æ˜¯:

- èƒ½è¾¾åˆ°åŒæ ·åŒ¹é…ç»“æœçš„è´ªå©ªä¸éè´ªå©ªæ¨¡å¼, é€šå¸¸æ˜¯è´ªå©ªæ¨¡å¼çš„åŒ¹é…æ•ˆç‡è¾ƒé«˜.
- æ‰€æœ‰çš„éè´ªå©ªæ¨¡å¼, éƒ½å¯ä»¥é€šè¿‡ä¿®æ”¹é‡è¯ä¿®é¥°çš„å­è¡¨è¾¾å¼, è½¬æ¢ä¸ºè´ªå©ªæ¨¡å¼.
- è´ªå©ªæ¨¡å¼å¯ä»¥ä¸å›ºåŒ–åˆ†ç»„ç»“åˆï¼Œæå‡åŒ¹é…æ•ˆç‡ï¼Œè€Œéè´ªå©ªæ¨¡å¼å´ä¸å¯ä»¥.

####åˆ†ç»„
æ­£åˆ™çš„åˆ†ç»„ä¸»è¦é€šè¿‡å°æ‹¬å·æ¥å®ç°, æ‹¬å·åŒ…è£¹çš„å­è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªåˆ†ç»„, **æ‹¬å·åå¯ä»¥ç´§è·Ÿé™å®šè¯è¡¨ç¤ºé‡å¤æ¬¡æ•°**. å¦‚ä¸‹, å°æ‹¬å·å†…åŒ…è£¹çš„abcä¾¿æ˜¯ä¸€ä¸ªåˆ†ç»„:

	/(abc)+/.test("abc123") == true

é‚£ä¹ˆåˆ†ç»„æœ‰ä»€ä¹ˆç”¨å‘¢? ä¸€èˆ¬æ¥è¯´, åˆ†ç»„æ˜¯ä¸ºäº†`æ–¹ä¾¿çš„è¡¨ç¤ºé‡å¤æ¬¡æ•°`, é™¤æ­¤ä¹‹å¤–, è¿˜æœ‰ä¸€ä¸ªä½œç”¨å°±æ˜¯`ç”¨äºæ•è·`.

#####æ•è·æ€§åˆ†ç»„
æ•è·æ€§åˆ†ç»„, é€šå¸¸ç”±ä¸€å¯¹å°æ‹¬å·åŠ ä¸Šå­è¡¨è¾¾å¼ç»„æˆ. `æ•è·æ€§åˆ†ç»„ä¼šåˆ›å»ºåå‘å¼•ç”¨`, æ¯ä¸ªåå‘å¼•ç”¨éƒ½ç”±ä¸€ä¸ªç¼–å·æˆ–åç§°æ¥æ ‡è¯†, **jsä¸­ä¸»è¦æ˜¯é€šè¿‡ $+ç¼–å· æˆ–è€… \+ç¼–å·** è¡¨ç¤ºæ³•è¿›è¡Œå¼•ç”¨. 

	var color = "#808080";
	var output = color.replace(/#(\d+)/,"$1"+"~~");//è‡ªç„¶ä¹Ÿå¯ä»¥å†™æˆ "$1~~"
	console.log(RegExp.$1);//808080
	console.log(output);//808080~~
	
- $+ç¼–å· è¿™ç§å¼•ç”¨é€šå¸¸åœ¨æ­£åˆ™è¡¨è¾¾å¼`ä¹‹å¤–ä½¿ç”¨`. 
- \+ç¼–å· è¿™ç§å¼•ç”¨å´å¯ä»¥åœ¨æ­£åˆ™`è¡¨è¾¾å¼ä¸­ä½¿ç”¨`, **å¯ç”¨äºåŒ¹é…ä¸åŒä½ç½®ç›¸åŒéƒ¨åˆ†çš„å­ä¸²**.

		var url = "www.google.google.com";
		var re = /([a-z]+)\.\1/;
		console.log(url.replace(re,"$1"));//"www.google.com"
		
#####éæ•è·æ€§åˆ†ç»„
éæ•è·æ€§åˆ†ç»„, é€šå¸¸ç”±`ä¸€å¯¹æ‹¬å·åŠ ä¸Šâ€?:â€åŠ ä¸Šå­è¡¨è¾¾å¼ç»„æˆ`, éæ•è·æ€§åˆ†ç»„`ä¸ä¼šåˆ›å»ºåå‘å¼•ç”¨`, å°±å¥½åƒæ²¡æœ‰æ‹¬å·ä¸€æ ·. å¦‚ä¸‹:

	var color = "#808080";
	var output = color.replace(/#(?:\d+)/,"$1"+"~~");
	console.log(RegExp.$1);//""
	console.log(output);//$1~~

ä»¥ä¸Š, **(?:\d+) è¡¨ç¤ºä¸€ä¸ªéæ•è·æ€§åˆ†ç»„, ç”±äºåˆ†ç»„ä¸æ•è·ä»»ä½•å†…å®¹, æ‰€ä»¥, RegExp.$1 å°±æŒ‡å‘äº†ç©ºå­—ç¬¦ä¸².åŒæ—¶, ç”±äº$1 çš„åå‘å¼•ç”¨ä¸å­˜åœ¨, å› æ­¤æœ€ç»ˆå®ƒè¢«å½“æˆäº†æ™®é€šå­—ç¬¦ä¸²è¿›è¡Œæ›¿æ¢.**

#####å‘½ååˆ†ç»„ï¼ˆjavascriptä¸æ”¯æŒï¼‰
å‘½ååˆ†ç»„ä¹Ÿæ˜¯æ•è·æ€§åˆ†ç»„, å®ƒå°†åŒ¹é…çš„å­—ç¬¦ä¸²æ•è·åˆ°ä¸€ä¸ªç»„åç§°æˆ–ç¼–å·åç§°ä¸­, åœ¨è·å¾—åŒ¹é…ç»“æœå, å¯é€šè¿‡åˆ†ç»„åè¿›è¡Œè·å–. javaScript ä¸­å¹¶ä¸æ”¯æŒå‘½ååˆ†ç»„ã€‚

#####å›ºåŒ–åˆ†ç»„ï¼ˆjavascriptä¸æ”¯æŒï¼‰
å›ºåŒ–åˆ†ç»„, åˆå«åŸå­ç»„.

è¯­æ³•: (?>â€¦)

æˆ‘ä»¬åœ¨ä½¿ç”¨éè´ªå©ªæ¨¡å¼æ—¶, åŒ¹é…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šè¿›è¡Œå¤šæ¬¡çš„å›æº¯, å›æº¯è¶Šå¤š, æ­£åˆ™è¡¨è¾¾å¼çš„è¿è¡Œæ•ˆç‡å°±è¶Šä½. è€Œå›ºåŒ–åˆ†ç»„å°±æ˜¯ç”¨æ¥å‡å°‘å›æº¯æ¬¡æ•°çš„.

å®é™…ä¸Š, å›ºåŒ–åˆ†ç»„(?>â€¦)çš„åŒ¹é…ä¸æ­£å¸¸çš„åŒ¹é…å¹¶æ— åˆ†åˆ«, å®ƒå¹¶ä¸ä¼šæ”¹å˜åŒ¹é…ç»“æœ. å”¯ä¸€çš„ä¸åŒå°±æ˜¯: å›ºåŒ–åˆ†ç»„åŒ¹é…ç»“æŸæ—¶, å®ƒåŒ¹é…åˆ°çš„æ–‡æœ¬å·²ç»å›ºåŒ–ä¸ºä¸€ä¸ªå•å…ƒ, åªèƒ½ä½œä¸ºæ•´ä½“è€Œä¿ç•™æˆ–æ”¾å¼ƒ, æ‹¬å·å†…çš„å­è¡¨è¾¾å¼ä¸­æœªå°è¯•è¿‡çš„å¤‡ç”¨çŠ¶æ€éƒ½ä¼šè¢«æ”¾å¼ƒ, æ‰€ä»¥å›æº¯æ°¸è¿œä¹Ÿä¸èƒ½é€‰æ‹©å…¶ä¸­çš„çŠ¶æ€(å› æ­¤ä¸èƒ½å‚ä¸å›æº¯). 

å‡å¦‚è¦å¤„ç†ä¸€æ‰¹æ•°æ®, åŸæ ¼å¼ä¸º 123.456, å› ä¸ºæµ®ç‚¹æ•°æ˜¾ç¤ºé—®é¢˜, éƒ¨åˆ†æ•°æ®æ ¼å¼ä¼šå˜ä¸º123.456000000789è¿™ç§, ç°è¦æ±‚åªä¿ç•™å°æ•°ç‚¹å2~3ä½, ä½†æ˜¯æœ€åä¸€ä½ä¸èƒ½ä¸º0, é‚£ä¹ˆè¿™ä¸ªæ­£åˆ™æ€ä¹ˆå†™å‘¢?

	var str = "123.456000000789";
	str = str.replace(/(\.\d\d[1-9]?)\d*/,"$1"); //123.456

ä»¥ä¸Šçš„æ­£åˆ™, å¯¹äºâ€123.456â€ è¿™ç§æ ¼å¼çš„æ•°æ®, å°†ç™½ç™½å¤„ç†ä¸€é. ä¸ºäº†æé«˜æ•ˆç‡, æˆ‘ä»¬å°†æ­£åˆ™æœ€åçš„ä¸€ä¸ªâ€*â€æ”¹ä¸ºâ€+â€. å¦‚ä¸‹:

	var str = "123.456";
	str = str.replace(/(\.\d\d[1-9]?)\d+/,"$1"); //123.45

æ­¤æ—¶, â€œ\d\d[1-9]?â€ å­è¡¨è¾¾å¼, åŒ¹é…æ˜¯ â€œ45â€, è€Œä¸æ˜¯ â€œ456â€, è¿™æ˜¯å› ä¸ºæ­£åˆ™æœ«å°¾ä½¿ç”¨äº†â€+â€, è¡¨ç¤ºæœ«å°¾è‡³å°‘è¦åŒ¹é…ä¸€ä¸ªæ•°å­—, å› æ­¤æœ«å°¾çš„å­è¡¨è¾¾å¼â€\d+â€ åŒ¹é…åˆ°äº† â€œ6â€. æ˜¾ç„¶ â€œ123.45â€ ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„åŒ¹é…ç»“æœ, é‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢? èƒ½å¦è®© â€œ[1-9]?â€ ä¸€æ—¦åŒ¹é…æˆåŠŸ, ä¾¿ä¸å†è¿›è¡Œå›æº¯, è¿™é‡Œå°±è¦ç”¨åˆ°æˆ‘ä»¬ä¸Šé¢è¯´çš„å›ºåŒ–åˆ†ç»„.

â€œ(\.\d\d(?>[1-9]?))\d+â€ ä¾¿æ˜¯ä¸Šè¿°æ­£åˆ™çš„å›ºåŒ–åˆ†ç»„å½¢å¼. ç”±äºå­—ç¬¦ä¸² â€œ123.456â€ ä¸æ»¡è¶³è¯¥å›ºåŒ–åˆ†ç»„çš„æ­£åˆ™, æ‰€ä»¥, åŒ¹é…ä¼šå¤±è´¥, ç¬¦åˆæˆ‘ä»¬æœŸæœ›.

ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸‹å›ºåŒ–åˆ†ç»„çš„æ­£åˆ™ (\.\d\d(?>[1-9]?))\d+ ä¸ºä»€ä¹ˆåŒ¹é…ä¸åˆ°å­—ç¬¦ä¸²â€123.456â€.

å¾ˆæ˜æ˜¾, å¯¹äºä¸Šè¿°å›ºåŒ–åˆ†ç»„, åªå­˜åœ¨ä¸¤ç§åŒ¹é…ç»“æœ.

- æƒ…å†µâ‘ : è‹¥ [1-9] åŒ¹é…å¤±è´¥, æ­£åˆ™ä¼šè¿”å› ? ç•™ä¸‹çš„å¤‡ç”¨çŠ¶æ€. ç„¶ååŒ¹é…è„±ç¦»å›ºåŒ–åˆ†ç»„, ç»§ç»­å‰è¿›åˆ°[\d+]. å½“æ§åˆ¶æƒç¦»å¼€å›ºåŒ–åˆ†ç»„æ—¶, æ²¡æœ‰å¤‡ç”¨çŠ¶æ€éœ€è¦æ”¾å¼ƒ(å› å›ºåŒ–åˆ†ç»„ä¸­æ ¹æœ¬æ²¡æœ‰åˆ›å»ºä»»ä½•å¤‡ç”¨çŠ¶æ€).

- æƒ…å†µâ‘¡: è‹¥ [1-9] åŒ¹é…æˆåŠŸ, åŒ¹é…è„±ç¦»å›ºåŒ–åˆ†ç»„ä¹‹å, ? ä¿å­˜çš„å¤‡ç”¨çŠ¶æ€ä»ç„¶å­˜åœ¨, ä½†æ˜¯, ç”±äºå®ƒå±äºå·²ç»ç»“æŸçš„å›ºåŒ–åˆ†ç»„, æ‰€ä»¥ä¼šè¢«æŠ›å¼ƒ.

å¯¹äºå­—ç¬¦ä¸² â€œ123.456â€, ç”±äº [1-9] èƒ½å¤ŸåŒ¹é…æˆåŠŸ, æ‰€ä»¥å®ƒç¬¦åˆæƒ…å†µâ‘¡. ä¸‹é¢æˆ‘ä»¬æ¥è¿˜åŸæƒ…å†µâ‘¡çš„æ‰§è¡Œç°åœº.

1. åŒ¹é…æ‰€å¤„çš„çŠ¶æ€: åŒ¹é…å·²ç»èµ°åˆ°äº† â€œ6â€ çš„ä½ç½®, åŒ¹é…å°†ç»§ç»­å‰è¿›;==>
- å­è¡¨è¾¾å¼ \d+ å‘ç°æ— æ³•åŒ¹é…, æ­£åˆ™å¼•æ“ä¾¿å°è¯•å›æº¯;==>
- æŸ¥çœ‹æ˜¯å¦å­˜åœ¨å¤‡ç”¨çŠ¶æ€ä»¥ä¾›å›æº¯?==>
- â€œ?â€ ä¿å­˜çš„å¤‡ç”¨çŠ¶æ€å±äºå·²ç»ç»“æŸçš„å›ºåŒ–åˆ†ç»„, æ‰€ä»¥è¯¥å¤‡ç”¨çŠ¶æ€ä¼šè¢«æ”¾å¼ƒ;==>
- æ­¤æ—¶å›ºåŒ–åˆ†ç»„åŒ¹é…åˆ°çš„ â€œ6â€, ä¾¿ä¸èƒ½ç”¨äºæ­£åˆ™å¼•æ“çš„å›æº¯;==>
- å°è¯•å›æº¯å¤±è´¥;==>
- æ­£åˆ™åŒ¹é…å¤±è´¥.==>
- æ–‡æœ¬ â€œ123.456â€ æ²¡æœ‰è¢«æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¸Š, ç¬¦åˆé¢„æœŸ.

ç›¸åº”çš„æµç¨‹å›¾å¦‚ä¸‹:
![](../images/regexp-åˆ†ç»„-å›ºåŒ–åˆ†ç»„.png)

**javaScriptä¸æ”¯æŒå›ºåŒ–åˆ†ç»„**

###æ­£åˆ™è¡¨è¾¾å¼é«˜é˜¶æŠ€èƒ½-é›¶å®½æ–­è¨€(javascriptåªæ”¯æŒé¡ºåºè‚¯å®šç¯è§†å’Œé¡ºåºå¦å®šç¯è§†)
**é›¶å®½æ–­è¨€, åˆå«ç¯è§†. ç¯è§†åªè¿›è¡Œå­è¡¨è¾¾å¼çš„åŒ¹é…, åŒ¹é…åˆ°çš„å†…å®¹ä¸ä¿å­˜åˆ°æœ€ç»ˆçš„åŒ¹é…ç»“æœ, ç”±äºåŒ¹é…æ˜¯é›¶å®½åº¦çš„, æ•…æœ€ç»ˆåŒ¹é…åˆ°çš„åªæ˜¯ä¸€ä¸ªä½ç½®.**

ç¯è§†æŒ‰ç…§æ–¹å‘åˆ’åˆ†, **æœ‰é¡ºåºå’Œé€†åºä¸¤ç§(ä¹Ÿå«å‰ç»å’Œåç»)**, æŒ‰ç…§æ˜¯å¦åŒ¹é…æœ‰è‚¯å®šå’Œå¦å®šä¸¤ç§, ç»„åˆä¹‹, ä¾¿æœ‰4ç§ç¯è§†. 4ç§ç¯è§†å¹¶ä¸å¤æ‚, å¦‚ä¸‹ä¾¿æ˜¯å®ƒä»¬çš„æè¿°.

![](../images/æ­£åˆ™-é›¶å®½æ–­è¨€-åˆ†ç±».png)

éæ•è·æ€§åˆ†ç»„ç”±äºç»“æ„ä¸ç¯è§†ç›¸ä¼¼, æ•…åˆ—åœ¨è¡¨ä¸­, ä»¥åšå¯¹æ¯”. ä»¥ä¸Š4ç§ç¯è§†ä¸­, ç›®å‰ javaScript ä¸­åªæ”¯æŒå‰ä¸¤ç§, ä¹Ÿå°±æ˜¯åªæ”¯æŒ `é¡ºåºè‚¯å®šç¯è§†` å’Œ `é¡ºåºå¦å®šç¯è§†`.

	var str = "123abc789",s;
	//æ²¡æœ‰ä½¿ç”¨ç¯è§†,abcç›´æ¥è¢«æ›¿æ¢
	s = str.replace(/abc/,456);
	console.log(s); //123456789
	//ä½¿ç”¨äº†é¡ºåºè‚¯å®šç¯è§†,æ•è·åˆ°äº†aå‰é¢çš„ä½ç½®,æ‰€ä»¥abcæ²¡æœ‰è¢«æ›¿æ¢,åªæ˜¯å°†3æ›¿æ¢æˆäº†3456
	s = str.replace(/3(?=abc)/,3456);
	console.log(s); //123456abc789
	//ä½¿ç”¨äº†é¡ºåºå¦å®šç¯è§†,ç”±äº3åé¢è·Ÿç€abc,ä¸æ»¡æ„æ¡ä»¶,æ•…æ•è·å¤±è´¥,æ‰€ä»¥åŸå­—ç¬¦ä¸²æ²¡æœ‰è¢«æ›¿æ¢
	s = str.replace(/3(?!abc)/,3456);
	console.log(s); //123abc789
	
####åƒä½åˆ†å‰²ç¬¦

	function thousand(str){
	  return str.replace(/(?!^)(?=([0-9]{3})+$)/g,',');
	}
	console.log(thousand(str));//"1,234,567,890"
	console.log(thousand("123456"));//"123,456"
	console.log(thousand("1234567879876543210"));//"1,234,567,879,876,543,210"

ä¸Šè¿°ä½¿ç”¨åˆ°çš„æ­£åˆ™åˆ†ä¸ºä¸¤å—. (?!^) å’Œ (?=([0-9]{3})+$). æˆ‘ä»¬å…ˆæ¥çœ‹åé¢çš„éƒ¨åˆ†, ç„¶åé€æ­¥åˆ†æä¹‹.

1. â€œ[0-9]{3}â€ è¡¨ç¤ºè¿ç»­3ä½æ•°å­—.
- â€œ([0-9]{3})+â€ è¡¨ç¤ºè¿ç»­3ä½æ•°å­—è‡³å°‘å‡ºç°ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡.
- â€œ([0-9]{3})+$â€ è¡¨ç¤ºè¿ç»­3çš„æ­£æ•´æ•°å€çš„æ•°å­—, ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾.
- é‚£ä¹ˆ (?=([0-9]{3})+$) å°±è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªé›¶å®½åº¦çš„ä½ç½®, å¹¶ä¸”ä»è¿™ä¸ªä½ç½®åˆ°å­—ç¬¦ä¸²æœ«å°¾, ä¸­é—´æ‹¥æœ‰3çš„æ­£æ•´æ•°å€çš„æ•°å­—.
- æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨å…¨å±€åŒ¹é…g, è¡¨ç¤ºåŒ¹é…åˆ°ä¸€ä¸ªä½ç½®å, å®ƒä¼šç»§ç»­åŒ¹é…, ç›´è‡³åŒ¹é…ä¸åˆ°.
- å°†è¿™ä¸ªä½ç½®æ›¿æ¢ä¸ºé€—å·, å®é™…ä¸Šå°±æ˜¯æ¯3ä½æ•°å­—æ·»åŠ ä¸€ä¸ªé€—å·.
- å½“ç„¶å¯¹äºå­—ç¬¦ä¸²â€123456â€è¿™ç§åˆšå¥½æ‹¥æœ‰3çš„æ­£æ•´æ•°å€çš„æ•°å­—çš„, å½“ç„¶ä¸èƒ½åœ¨1å‰é¢æ·»åŠ é€—å·. é‚£ä¹ˆä½¿ç”¨ (?!^) å°±æŒ‡å®šäº†è¿™ä¸ªæ›¿æ¢çš„ä½ç½®ä¸èƒ½ä¸ºèµ·å§‹ä½ç½®.

###æ­£åˆ™è¡¨è¾¾å¼åœ¨JSä¸­çš„åº”ç”¨
ES6å¯¹æ­£åˆ™æ‰©å±•äº†åˆä¸¤ç§ä¿®é¥°ç¬¦(å…¶ä»–è¯­è¨€å¯èƒ½ä¸æ”¯æŒ):

- y (ç²˜è¿stickyä¿®é¥°ç¬¦), ä¸gç±»ä¼¼, ä¹Ÿæ˜¯å…¨å±€åŒ¹é…, å¹¶ä¸”ä¸‹ä¸€æ¬¡åŒ¹é…éƒ½æ˜¯ä»ä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹, ä¸åŒä¹‹å¤„åœ¨äº, gä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å³å¯, è€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹.

		var s = "abc_ab_a";
		var r1 = /[a-z]+/g;
		var r2 = /[a-z]+/y;
		console.log(r1.exec(s),r1.lastIndex); // ["abc", index: 0, input: "abc_ab_a"] 3
		console.log(r2.exec(s),r2.lastIndex); // ["abc", index: 0, input: "abc_ab_a"] 3
		console.log(r1.exec(s),r1.lastIndex); // ["ab", index: 4, input: "abc_ab_a"] 6
		console.log(r2.exec(s),r2.lastIndex); // null 0

	å¦‚ä¸Š, ç”±äºç¬¬äºŒæ¬¡åŒ¹é…çš„å¼€å§‹ä½ç½®æ˜¯ä¸‹æ ‡3, å¯¹åº”çš„å­—ç¬¦ä¸²æ˜¯ â€œ_â€, è€Œä½¿ç”¨yä¿®é¥°ç¬¦çš„æ­£åˆ™å¯¹è±¡r2, éœ€è¦ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹, æ‰€ä»¥åŒ¹é…å¤±è´¥, è¿”å›null.

	æ­£åˆ™å¯¹è±¡çš„ sticky å±æ€§, è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦. è¿™ç‚¹å°†ä¼šåœ¨åé¢è®²åˆ°.

- u ä¿®é¥°ç¬¦, æä¾›äº†å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ 4å­—èŠ‚ç ç‚¹çš„æ”¯æŒ. æ¯”å¦‚ â€œğŒ†â€ å­—ç¬¦æ˜¯ä¸€ä¸ª4å­—èŠ‚å­—ç¬¦, ç›´æ¥ä½¿ç”¨æ­£åˆ™åŒ¹é…å°†ä¼šå¤±è´¥, è€Œä½¿ç”¨uä¿®é¥°ç¬¦å, å°†ä¼šç­‰åˆ°æ­£ç¡®çš„ç»“æœ.

		var s = "ğŒ†";
		console.log(/^.$/.test(s));//false
		console.log(/^.$/u.test(s));//true
		
####javaScript ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼æœ‰å…³çš„æ–¹æ³•æœ‰:
![](../images/æ­£åˆ™_js_method.png)

####RegExp
RegExp å¯¹è±¡è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼, ä¸»è¦ç”¨äºå¯¹å­—ç¬¦ä¸²æ‰§è¡Œæ¨¡å¼åŒ¹é….

è¯­æ³•:

	new RegExp(pattern[, flags])

å‚æ•°:

- pattern æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸², æŒ‡å®šäº†æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²æˆ–å…¶ä»–çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡.
- flags æ˜¯ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸², åŒ…å«å±æ€§ â€œgâ€ã€â€iâ€ å’Œ â€œmâ€, åˆ†åˆ«ç”¨äºæŒ‡å®šå…¨å±€åŒ¹é…ã€åŒºåˆ†å¤§å°å†™çš„åŒ¹é…å’Œå¤šè¡ŒåŒ¹é…. `å¦‚æœpattern æ˜¯æ­£åˆ™è¡¨è¾¾å¼, è€Œä¸æ˜¯å­—ç¬¦ä¸², åˆ™å¿…é¡»çœç•¥è¯¥å‚æ•°`.

ä¾‹ï¼š

	var pattern = "[0-9]";
	var reg = new RegExp(pattern,"g");
	// ä¸Šè¿°åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡,å¯ä»¥ç”¨å¯¹è±¡å­—é¢é‡å½¢å¼ä»£æ›¿,ä¹Ÿæ¨èä¸‹é¢è¿™ç§
	var reg = /[0-9]/g;
	
#####RegExp å®ä¾‹å¯¹è±¡åŒ…å«å¦‚ä¸‹å±æ€§:

![](../images/æ­£åˆ™_RegExp_attr.png)

ä¾‹ï¼š

	var regExp = new RegExp("[0-9a-z]", "g");
	console.log("global:"+regExp.global); //global:true
	console.log("ignoreCase:"+regExp.ignoreCase); //ignoreCase:false
	console.log("multiline:"+regExp.multiline); //multiline:false
	console.log("source:"+regExp.source); //source:[0-9a-z]
	console.log("source:"+regExp.lastIndex); //source:0
	
#####compile
compile æ–¹æ³•ç”¨äº`åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ”¹å˜å’Œé‡æ–°ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼`.

è¯­æ³•: 
	
	compile(pattern[, flags])
	
ä¾‹ï¼š

	var reg = new RegExp("abc", "gi");
	var reg1 = reg.compile("new abc", "g");
	console.log(reg);// /new abc/g
	console.log(reg1);// /new abc/g

å¯è§ compile æ–¹æ³•ä¼šæ”¹å˜åŸæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡, å¹¶é‡æ–°ç¼–è¯‘.

####test
test æ–¹æ³•ç”¨äºæ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªæ­£åˆ™è§„åˆ™, åªè¦æ˜¯å­—ç¬¦ä¸²ä¸­å«æœ‰ä¸æ­£åˆ™è§„åˆ™åŒ¹é…çš„æ–‡æœ¬, è¯¥æ–¹æ³•å°±è¿”å›true, å¦åˆ™è¿”å› false.

è¯­æ³•: 
	
	test(string)
ä¾‹ï¼š

	console.log(/[0-9]+/.test("abc123"));//true
	console.log(/[0-9]+/.test("abc"));//false
	
å®é™…ä¸Š, `å¦‚æœæ­£åˆ™è¡¨è¾¾å¼å¸¦æœ‰å…¨å±€æ ‡å¿—(å¸¦æœ‰å‚æ•°g)æ—¶, test æ–¹æ³•è¿˜å—æ­£åˆ™å¯¹è±¡çš„lastIndexå±æ€§å½±å“`,å¦‚ä¸‹:

	var reg = /[a-z]+/;//æ­£åˆ™ä¸å¸¦å…¨å±€æ ‡å¿—
	console.log(reg.test("abc"));//true
	console.log(reg.test("de"));//true
	var reg = /[a-z]+/g;//æ­£åˆ™å¸¦æœ‰å…¨å±€æ ‡å¿—g
	console.log(reg.test("abc"));//true
	console.log(reg.lastIndex);//3, ä¸‹æ¬¡è¿è¡Œtestæ—¶,å°†ä»ç´¢å¼•ä¸º3çš„ä½ç½®å¼€å§‹æŸ¥æ‰¾
	console.log(reg.test("de"));//false
	
####exec
exec æ–¹æ³•ç”¨äºæ£€æµ‹å­—ç¬¦ä¸²å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…, å¦‚æœæ‰¾åˆ°äº†åŒ¹é…çš„æ–‡æœ¬, åˆ™`è¿”å›ä¸€ä¸ªç»“æœæ•°ç»„`, å¦åˆ™è¿”å›null.

è¯­æ³•: 
	
	exec(string)

exec æ–¹æ³•è¿”å›çš„æ•°ç»„ä¸­åŒ…å«ä¸¤ä¸ªé¢å¤–çš„å±æ€§, index å’Œ input. å¹¶ä¸”è¯¥æ•°ç»„å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹:

- ç¬¬ 0 ä¸ªé¡¹è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼æ•è·çš„æ–‡æœ¬
- ç¬¬ 1~n é¡¹è¡¨ç¤ºç¬¬ 1~n ä¸ªåå‘å¼•ç”¨, ä¾æ¬¡æŒ‡å‘ç¬¬ 1~n ä¸ªåˆ†ç»„æ•è·çš„æ–‡æœ¬, å¯ä»¥ä½¿ç”¨RegExp.$ + â€œç¼–å·1~nâ€ ä¾æ¬¡è·å–åˆ†ç»„ä¸­çš„æ–‡æœ¬
- index è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²çš„åˆå§‹ä½ç½®
- input è¡¨ç¤ºæ­£åœ¨æ£€ç´¢çš„å­—ç¬¦ä¸²

æ— è®ºæ­£åˆ™è¡¨è¾¾å¼æœ‰æ— å…¨å±€æ ‡ç¤ºâ€gâ€, exec çš„è¡¨ç°éƒ½ç›¸åŒ. ä½†æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„è¡¨ç°å´æœ‰äº›ä¸åŒ. 

- å‡è®¾æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ä¸º reg , æ£€æµ‹çš„å­—ç¬¦ä¸º string , reg.exec(string) è¿”å›å€¼ä¸º array.

	è‹¥ reg åŒ…å«å…¨å±€æ ‡ç¤ºâ€gâ€, é‚£ä¹ˆ reg.lastIndex å±æ€§è¡¨ç¤ºåŸå­—ç¬¦ä¸²ä¸­åŒ¹é…çš„å­—ç¬¦ä¸²æœ«å°¾çš„åä¸€ä¸ªä½ç½®, å³ä¸‹æ¬¡åŒ¹é…å¼€å§‹çš„ä½ç½®, æ­¤æ—¶ reg.lastIndex == array.index(åŒ¹é…å¼€å§‹çš„ä½ç½®) + array[0].length(åŒ¹é…å­—ç¬¦ä¸²çš„é•¿åº¦). å¦‚ä¸‹:

		var reg = /([a-z]+)/gi,
		   	string = "World Internet Conference";
		var array = reg.exec(string);
		console.log(array);//["World", "World", index: 0, input: "World Internet Conference"]
		console.log(RegExp.$1);//World
		console.log(reg.lastIndex);//5, åˆšå¥½ç­‰äº array.index + array[0].length
	éšç€æ£€ç´¢ç»§ç»­, array.index çš„å€¼å°†å¾€åé€’å¢, ä¹Ÿå°±æ˜¯è¯´, reg.lastIndex çš„å€¼ä¹Ÿä¼šåŒæ­¥å¾€åé€’å¢. å› æ­¤, æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åå¤è°ƒç”¨ exec æ–¹æ³•æ¥éå†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„åŒ¹é…æ–‡æœ¬. ç›´åˆ° exec æ–¹æ³•å†ä¹ŸåŒ¹é…ä¸åˆ°æ–‡æœ¬æ—¶, å®ƒå°†è¿”å› null, å¹¶æŠŠ reg.lastIndex å±æ€§é‡ç½®ä¸º 0. 
	
		array = reg.exec(string);
		console.log(array);//["Internet", "Internet", index: 6, input: "World Internet Conference"]
		console.log(reg.lastIndex);//14
		array = reg.exec(string);
		console.log(array);//["Conference", "Conference", index: 15, input: "World Internet Conference"]
		console.log(reg.lastIndex);//25
		array = reg.exec(string);
		console.log(array);//null
		console.log(reg.lastIndex);//0
		
å¦‚æœæ­£åˆ™è¡¨è¾¾å¼å¸¦æœ‰å…¨å±€æ ‡å¿—g, ä»¥ä¸Š test æ–¹æ³•çš„æ‰§è¡Œç»“æœå°†å— reg.lastIndexå½±å“, ä¸ä»…å¦‚æ­¤, exec æ–¹æ³•ä¹Ÿä¸€æ ·. ç”±äº reg.lastIndex çš„å€¼å¹¶ä¸æ€»æ˜¯ä¸ºé›¶, å¹¶ä¸”å®ƒå†³å®šäº†ä¸‹æ¬¡åŒ¹é…å¼€å§‹çš„ä½ç½®, å¦‚æœåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å®Œæˆäº†ä¸€æ¬¡åŒ¹é…ä¹‹åè¦å¼€å§‹æ£€ç´¢æ–°çš„å­—ç¬¦ä¸², é‚£å°±å¿…é¡»è¦æ‰‹åŠ¨åœ°æŠŠ lastIndex å±æ€§é‡ç½®ä¸º 0. é¿å…å‡ºç°ä¸‹é¢è¿™ç§é”™è¯¯:

	var reg = /[0-9]+/g,
	    str1 = "123abc",
	    str2 = "123456";
	reg.exec(str1);
	console.log(reg.lastIndex);//3
	var array = reg.exec(str2);
	console.log(array);//["456", index: 3, input: "123456"]
	
####String
ç”¨æ•è·æ€§åˆ†ç»„å¤„ç†æ–‡æœ¬æ¨¡æ¿, æœ€ç»ˆç”Ÿæˆå®Œæ•´å­—ç¬¦ä¸²çš„è¿‡ç¨‹:

	var tmp = "An ${a} a ${b} keeps the ${c} away";
	var obj = {
	  a:"apple",
	  b:"day",
	  c:"doctor"
	};
	function tmpl(t,o){
	  return t.replace(/\${(.)}/g,function(m,p){
	    console.log('m:'+m+' p:'+p);
	    return o[p];
	  });
	}
	tmpl(tmp,obj);

ä¸Šè¿°åŠŸèƒ½ä½¿ç”¨ES6å¯è¿™ä¹ˆå®ç°:

	var obj = {
	  a:"apple",
	  b:"day",
	  c:"doctor"
	};
	with(obj){
	  console.log(`An ${a} a ${b} keeps the ${c} away`);
	}
	
#####match
match() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦æ”¯æŒæŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™, å³ä½¿ä¼ å…¥çš„æ˜¯éæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡, å®ƒä¹Ÿä¼šéšå¼åœ°ä½¿ç”¨ new RegExp(obj) å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡.

è¯­æ³•: 
	
	str.match(regexp)

è¯¥æ–¹æ³•è¿”å›åŒ…å«åŒ¹é…ç»“æœçš„æ•°ç»„, å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹, åˆ™è¿”å› null.

æè¿°ï¼š

- è‹¥æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰ g æ ‡å¿—, åˆ™è¿”å›åŒ RegExp.exec(str) ç›¸åŒçš„ç»“æœ. è€Œä¸”è¿”å›çš„æ•°ç»„æ‹¥æœ‰ä¸€ä¸ªé¢å¤–çš„ input å±æ€§, è¯¥å±æ€§åŒ…å«åŸå§‹å­—ç¬¦ä¸², å¦å¤–è¯¥æ•°ç»„è¿˜æ‹¥æœ‰ä¸€ä¸ª index å±æ€§, è¯¥å±æ€§è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­ç´¢å¼•(ä»0å¼€å§‹).
- **è‹¥æ­£åˆ™è¡¨è¾¾å¼åŒ…å« g æ ‡å¿—, åˆ™è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„, æ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å› null**.

ä¾‹ï¼š

	var str = "World Internet Conference";
	console.log(str.match(/[a-d]/i));//["d", index: 4, input: "World Internet Conference"]
	console.log(str.match(/[a-d]/gi));//["d", "C", "c"]
	//RegExp æ–¹æ³•å¦‚ä¸‹
	console.log(/[a-d]/gi.test(str));//true
	console.log(/[a-d]/gi.exec(str));//["d", index: 4, input: "World Internet Conference"]

`RegExp.exec(str) æ–¹æ³•æ— è®ºæ­£åˆ™ä¸­æœ‰æ²¡æœ‰åŒ…å« g æ ‡å¿—, RegExp.execå°†ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœ, ä¸”è¯¥ç»“æœåŒ str.match(regexp) æ–¹æ³•ä¸åŒ…å« g æ ‡å¿—æ—¶çš„è¿”å›ä¸€è‡´.`

#####search
search() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªæ­£åˆ™åŒ¹é…. ç›¸å½“äºæ­£åˆ™è¡¨è¾¾å¼çš„ test æ–¹æ³•. ä¸”è¯¥æ–¹æ³•æ¯” match() æ–¹æ³•æ›´å¿«. å¦‚æœåŒ¹é…æˆåŠŸ, search() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•, å¦åˆ™è¿”å›-1.

è¯­æ³•: 

	str.search(regexp)

ä¾‹ï¼š

	var str = "abcdefg";
	console.log(str.search(/[d-g]/));//3, åŒ¹é…åˆ°å­ä¸²"defg",è€Œdåœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ä¸º3

**search() æ–¹æ³•ä¸æ”¯æŒå…¨å±€åŒ¹é…**(æ­£åˆ™ä¸­åŒ…å«gå‚æ•°), å¦‚ä¸‹:

	console.log(str.search(/[d-g]/g));//3, ä¸æ— gå‚æ•°æ—¶,è¿”å›ç›¸åŒ

#####split
split() æ–¹æ³•æŠŠåŸå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²ç»„æˆæ•°ç»„, å¹¶è¿”å›è¯¥æ•°ç»„.

è¯­æ³•: 

	str.split(separator, limit)

ä¸¤ä¸ªå‚æ•°å‡æ˜¯å¯é€‰çš„,

- å…¶ä¸­ separator è¡¨ç¤ºåˆ†éš”ç¬¦, å®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼. å¦‚æœå¿½ç•¥ separator, åˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ . å¦‚æœ separator æ˜¯ä¸€ä¸ªç©ºä¸², åˆ™ str å°†ä¼šè¢«åˆ†å‰²æˆä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„æˆçš„æ•°ç»„. 
- limit è¡¨ç¤ºä»è¿”å›çš„æ•°ç»„ä¸­æˆªå–å‰ limit ä¸ªå…ƒç´ , ä»è€Œé™å®šè¿”å›çš„æ•°ç»„é•¿åº¦ï¼Œå¦‚æœè¶…å‡ºåˆ™è¿”å›æ•°ç»„é•¿åº¦.

ä¾‹ï¼š

	var str = "today is a sunny day";
	console.log(str.split());//["today is a sunny day"]
	console.log(str.split(""));//["t", "o", "d", "a", "y", " ", "i", "s", " ", "a", " ", "s", "u", "n", "n", "y", " ", "d", "a", "y"]
	console.log(str.split(" "));//["today", "is", "a", "sunny", "day"]

**ä½¿ç”¨limité™å®šè¿”å›çš„æ•°ç»„å¤§å°. å¦‚ä¸‹:**

	console.log(str.split(" "), 1);//["today"]

**ä½¿ç”¨æ­£åˆ™åˆ†éš”ç¬¦(RegExp separator). å¦‚ä¸‹:**

	console.log(str.split(/\s*is\s*/));//["today", "a sunny day"]

**è‹¥æ­£åˆ™åˆ†éš”ç¬¦é‡ŒåŒ…å«æ•è·æ‹¬å·, åˆ™æ‹¬å·åŒ¹é…çš„ç»“æœå°†ä¼šåŒ…å«åœ¨è¿”å›çš„æ•°ç»„ä¸­.**

	console.log(str.split(/(\s*is\s*)/));//["today", " is ", "a sunny day"]
	
####replace
æè¿°ï¼š
	è¯¥æ–¹æ³•å¹¶ä¸æ”¹å˜è°ƒç”¨å®ƒçš„å­—ç¬¦ä¸²æœ¬èº«ï¼Œè€Œåªæ˜¯è¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸².

è¯­æ³•ï¼š

	str.replace( regexp | substr, newSubStr | function[, flags] )
	
å‚æ•°ï¼š

- regexp: ä¸€ä¸ª RegExp å¯¹è±¡. è¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰ã€‚
- substr: ä¸€ä¸ªè¦è¢« newSubStr æ›¿æ¢çš„å­—ç¬¦ä¸².
- newSubStr: æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…éƒ¨åˆ†. è¯¥å­—ç¬¦ä¸²ä¸­å¯ä»¥å†…æ’ä¸€äº›ç‰¹æ®Šçš„å˜é‡å.
- function: ä¸€ä¸ªç”¨æ¥åˆ›å»ºæ–°å­å­—ç¬¦ä¸²çš„å‡½æ•°, è¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…åˆ°çš„ç»“æœ. 
- flags: æ³¨æ„ï¼šflags å‚æ•°åœ¨ v8 å†…æ ¸ï¼ˆChrome and NodeJsï¼‰ä¸­ä¸èµ·ä½œç”¨. æ–¹æ³•ä¸­ä½¿ç”¨ flags å‚æ•°ä¸æ˜¯ç¬¦åˆæ ‡å‡†çš„å¹¶ä¸”ä¸èµæˆè¿™æ ·åš.

**ç®€å•æ¦‚æ‹¬,replaceæ‹¥æœ‰ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªæ˜¯éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼; ç¬¬äºŒä¸ªæ˜¯æ–°çš„å­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªfunction,è¿™æ ·å‚æ•°ä¾¿æœ‰å››ç§ç»„åˆ.**

ä¾‹1 Stringâ€“>Stringï¼š

	var a = "what is this? before";
	var b = a.replace("before","after");
	console.log(b);	// "what is this? after"

ä¾‹2 Regexpâ€“>Stringï¼š  
å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼,æ–°çš„å­—ç¬¦ä¸²ä¸­å¯ä»¥ç”¨$ç¬¦å·å–æ­£åˆ™ä¸­åŒ¹é…çš„å­ä¸²(ä¹Ÿå°±æ˜¯æ­£åˆ™ä¸­è¢«æ‹¬å·åŒ…è£¹çš„éƒ¨åˆ†):

	var a = "what is this? before";
	var b = a.replace(/(^\w+).*?(\w+)$/,"$2 $1");//æ‹¬å·åˆ†å‰²çš„éƒ¨åˆ†ä¾æ¬¡ä¸ºå­ä¸²1....n
	console.log(b); // "before what"	

ä¾‹3  Regexpâ€“>Functionï¼š

ç¬¬äºŒä¸ªå‚æ•°å…¶å®å¯ä¸ºä¸€ä¸ªfunction,æœ€ç»ˆå­—ç¬¦ä¸²å°†ä»¥functionçš„è¿”å›å€¼ä½œä¸ºreplaceçš„è¿”å›å€¼ã€‚

ä»¥ä¸‹æ˜¯è¯¥functionçš„å½¢å‚:

	function(match,p1â€¦,offset,string)
	
å¯è§è‡³å°‘åŒ…å«ä¸‰ä¸ªå½¢å‚(å³arguments.length>=3)

- matchè¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°(æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼)åŒ¹é…çš„å­—ç¬¦ä¸²
- p1è‡³pnè¡¨ç¤ºç¬¬1..nä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²,å¦‚æœæ²¡æœ‰æ‹¬å·åˆ™ä¸å­˜åœ¨è¯¥é¡¹
- offsetè¡¨ç¤ºåŒ¹é…çš„èµ·ç‚¹åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»
- stringè¡¨ç¤ºåŸå­—ç¬¦ä¸²

demo:

	function replacer(match,p1,p2,offset,string){
	    //æ­¤æ—¶p1=" is",p2=" this"
	    return p1+" that";//å¦‚æœè¿”å›ä¸ºç©ºä¸²,åˆ™åŒ¹é…å†…å®¹æ›¿æ¢ä¸ºç©º,å¦‚æœä¸è¿”å›,åˆ™åŒ¹é…å†…å®¹æ›¿æ¢ä¸ºundefined
	}
	var a = "what is this? before";
	var b = a.replace(/(\s\w+)(\s\w+)/,replacer);
	console.log(b); // "what is that? before"

ä¾‹4 Stringâ€“>Functionï¼š

	function replacer(match,offset,string){
	    //ç”±äºå­—ç¬¦ä¸²ä¸­ä¸ä¼šæœ‰æ‹¬å·è¿›è¡Œåˆ†ç»„,æ­¤æ—¶æ²¡æœ‰å­ä¸²
	    return offset+" that";//åç§»ä¸º4
	}
	var a = "what is this? before";
	var b = a.replace(" is this",replacer);
	console.log(b); // "what4 that? before"

####ç®€æ˜“çš„å­—ç¬¦ä¸²æ¨¡æ¿å¼•æ“
åŸºäº replace æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªç”¨æ³•, æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªtmplæ–¹æ³•, è¾“å…¥ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸², è¾“å…¥ä¸€ä¸ªkey-valueå¯¹è±¡, å³å¯ç”Ÿæˆæ–°çš„å­—ç¬¦ä¸².

	var template = "one {a} two {b} {c}",
		obj = {a:"apple",b:"orange",c:"..."},
		_array = [];
	function tmpl(template,obj){
		var retu = template.replace(/([^{}]*){(.)}/g,function(match,p1,p2,offset,string){
			_array.push({'match':match, 'p1':p1, 'p2':p2, 'offset':offset, 'string':string});
	      	return p1+obj[p2];
	    });
	    console.table && console.table(_array);
	  	!console.table && console.log(_array);
	  	console.log(retu);
	}
	tmpl(template,obj);

ç»“æœï¼š
![](../images/æ­£åˆ™_String_replace_demo_console.png)
####æ­£åˆ™è¡¨è¾¾å¼åœ¨H5ä¸­çš„åº”ç”¨
H5ä¸­æ–°å¢äº† `pattern` å±æ€§, è§„å®šäº†ç”¨äºéªŒè¯è¾“å…¥å­—æ®µçš„æ¨¡å¼, patternçš„æ¨¡å¼åŒ¹é…æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„ä¹¦å†™æ–¹å¼. é»˜è®¤ pattern å±æ€§æ˜¯å…¨éƒ¨åŒ¹é…, å³æ— è®ºæ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰æ—  â€œ^â€, â€œ$â€ å…ƒå­—ç¬¦, å®ƒéƒ½æ˜¯åŒ¹é…æ‰€æœ‰æ–‡æœ¬.

**æ³¨: pattern é€‚ç”¨äºä»¥ä¸‹ input ç±»å‹ï¼štext, search, url, telephone, email ä»¥åŠ password. å¦‚æœéœ€è¦å–æ¶ˆè¡¨å•éªŒè¯, åœ¨formæ ‡ç­¾ä¸Šå¢åŠ  novalidate å±æ€§å³å¯.**






